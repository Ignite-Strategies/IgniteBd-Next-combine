# IgniteBD Content Hub – Current UX Map

(Generated by inspecting the actual repository)

## 1. Current Pages and Screens

### `/content` Route
**Location**: `src/app/(authenticated)/content/page.jsx`

**Current State**: **Placeholder/Stub**

- **What exists**: A single page component that displays a placeholder message
- **What it shows**: 
  - Page header with title "Content Studio" and subtitle "Draft articles, social posts, and assets that accelerate demand."
  - Empty state message: "Content workflows are on deck"
  - Note: "The Next.js app now routes correctly. The detailed planner from the React app will be migrated in the next milestone."
- **What is wired up**: 
  - ✅ Route exists and is accessible
  - ✅ Navigation link exists in Sidebar (`/content`)
  - ❌ No data fetching
  - ❌ No content listing
  - ❌ No create/edit functionality
- **What is NOT implemented**: 
  - No blog post listing
  - No social post management
  - No content creation workflows
  - No content analytics
  - No draft management

### Related Builder Pages (Not Directly Under `/content`)

**Blog Builder**: `/builder/blog/[blogId]/page.jsx`
- ✅ **Fully implemented**
- Creates/edits blog artifacts
- Links to Blog model via API routes
- Can be accessed from work packages
- Fields: title, content, author, published status

**CLE Deck Builder**: `/builder/cledeck/[deckId]/page.jsx`
- ✅ **Fully implemented**
- Creates/edits CLE deck artifacts
- Links to CleDeck model via API routes
- Fields: title, presenter, description, slides (JSON), published status

**Event Plan Builder**: `/builder/event/[eventPlanId]/page.jsx`
- ✅ **Fully implemented**
- Creates/edits event plan artifacts
- Links to EventPlan model via API routes

**Landing Page Builder**: `/builder/landingpage/[landingPageId]/page.jsx`
- ✅ **Fully implemented**
- Creates/edits landing page artifacts
- Links to LandingPage model via API routes

**Template Builder**: `/builder/template/[templateId]/page.jsx`
- ✅ **Fully implemented**
- Creates/edits template artifacts
- Links to Template model via API routes

**Persona Builder**: `/builder/persona/[personaId]/page.jsx`
- ✅ **Fully implemented**
- Creates/edits persona artifacts
- Links to Persona model via API routes

**Note**: These builder pages are NOT accessible from the `/content` hub page. They are accessed via:
- Work package item detail pages
- Direct navigation (if user knows the route)
- Execution surface (`/client-operations/execution`)

### No Content Sub-Routes

**Missing routes**:
- ❌ `/content/blog` - No blog listing page
- ❌ `/content/blog/new` - No blog creation flow from content hub
- ❌ `/content/social` - No social post management
- ❌ `/content/drafts` - No draft management
- ❌ `/content/analytics` - No content analytics
- ❌ `/content/blog-potentials` - Referenced in old React app, not in Next.js

## 2. Current Content Models (From Prisma)

### ✅ Blog Model
**Location**: `prisma/schema.prisma` (lines 652-667)

```prisma
model Blog {
  id          String    @id @default(cuid())
  companyHQId String
  companyHQ   CompanyHQ @relation(fields: [companyHQId], references: [id], onDelete: Cascade)
  title       String
  content     String?
  author      String?
  published   Boolean   @default(false)
  publishedAt DateTime?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  @@index([companyHQId])
  @@index([published])
  @@map("blogs")
}
```

**Status**: ✅ **Fully implemented**
- Model exists in database
- API routes exist (`/api/artifacts/blogs`)
- Builder page exists (`/builder/blog/[blogId]`)
- **NOT** accessible from `/content` hub

### ✅ CleDeck Model
**Location**: `prisma/schema.prisma` (lines 706-722)

```prisma
model CleDeck {
  id          String    @id @default(cuid())
  companyHQId String
  companyHQ   CompanyHQ @relation(fields: [companyHQId], references: [id], onDelete: Cascade)
  title       String
  slides      Json? // Array of slide objects
  presenter   String?
  description String?
  published   Boolean   @default(false)
  publishedAt DateTime?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  @@index([companyHQId])
  @@index([published])
  @@map("cle_decks")
}
```

**Status**: ✅ **Fully implemented**
- Model exists in database
- API routes exist (`/api/artifacts/cledecks`)
- Builder page exists (`/builder/cledeck/[deckId]`)
- **NOT** accessible from `/content` hub

### ✅ EventPlan Model
**Location**: `prisma/schema.prisma` (lines 687-704)

```prisma
model EventPlan {
  id          String    @id @default(cuid())
  companyHQId String
  companyHQ   CompanyHQ @relation(fields: [companyHQId], references: [id], onDelete: Cascade)
  eventName   String
  date        DateTime?
  location    String?
  agenda      String?
  description String?
  published   Boolean   @default(false)
  publishedAt DateTime?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  @@index([companyHQId])
  @@index([published])
  @@map("event_plans")
}
```

**Status**: ✅ **Fully implemented**
- Model exists in database
- API routes exist (`/api/artifacts/eventplans`)
- Builder page exists (`/builder/event/[eventPlanId]`)
- **NOT** accessible from `/content` hub

### ✅ LandingPage Model
**Location**: `prisma/schema.prisma` (lines 724-740)

```prisma
model LandingPage {
  id          String    @id @default(cuid())
  companyHQId String
  companyHQ   CompanyHQ @relation(fields: [companyHQId], references: [id], onDelete: Cascade)
  title       String
  url         String?
  content     Json? // Page content structure
  description String?
  published   Boolean   @default(false)
  publishedAt DateTime?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  @@index([companyHQId])
  @@index([published])
  @@map("landing_pages")
}
```

**Status**: ✅ **Fully implemented**
- Model exists in database
- API routes exist (`/api/artifacts/landingpages`)
- Builder page exists (`/builder/landingpage/[landingPageId]`)
- **NOT** accessible from `/content` hub

### ✅ Template Model
**Location**: `prisma/schema.prisma` (lines 669-685)

```prisma
model Template {
  id          String    @id @default(cuid())
  companyHQId String
  companyHQ   CompanyHQ @relation(fields: [companyHQId], references: [id], onDelete: Cascade)
  name        String
  subject     String?
  body        String?
  type        String? // "email", "sms", etc.
  published   Boolean   @default(false)
  publishedAt DateTime?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  @@index([companyHQId])
  @@index([published])
  @@map("templates")
}
```

**Status**: ✅ **Fully implemented**
- Model exists in database
- API routes exist (`/api/artifacts/templates`)
- Builder page exists (`/builder/template/[templateId]`)
- **NOT** accessible from `/content` hub

### ❌ SocialPost Model
**Status**: **DOES NOT EXIST**

- No model in Prisma schema
- No API routes
- No builder pages
- Referenced in old React app (`Content.jsx` shows social posts with dummy data)
- Mentioned in `/content` page subtitle: "Draft articles, social posts, and assets"

### ❌ Draft Model
**Status**: **DOES NOT EXIST**

- No separate Draft model
- Drafts are represented by `published: false` on Blog, CleDeck, etc.
- No unified draft management system

### ✅ WorkCollateral Model
**Location**: `prisma/schema.prisma` (lines 616-640)

```prisma
model WorkCollateral {
  id                String           @id @default(cuid())
  workPackageId     String?
  workPackage       WorkPackage?     @relation(fields: [workPackageId], references: [id], onDelete: Cascade)
  workPackageItemId String?
  workPackageItem   WorkPackageItem? @relation(fields: [workPackageItemId], references: [id], onDelete: Cascade)

  type        String // BLOG | PERSONA | CLE_DECK | TEMPLATE | ETC
  title       String?
  contentJson Json?

  status WorkCollateralStatus @default(IN_PROGRESS)

  reviewRequestedAt DateTime?
  reviewCompletedAt DateTime?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([workPackageId])
  @@index([workPackageItemId])
  @@index([status])
  @@index([type])
  @@map("work_collateral")
}
```

**Status**: ✅ **Fully implemented**
- Used for work package item collateral tracking
- NOT a standalone content model (linked to work packages)
- Different from artifact models (Blog, CleDeck, etc.)

### Model Relationships

**CompanyHQ Relations**:
- `blogs Blog[]` - One-to-many
- `templates Template[]` - One-to-many
- `eventPlans EventPlan[]` - One-to-many
- `cleDecks CleDeck[]` - One-to-many
- `landingPages LandingPage[]` - One-to-many

**Missing Relationships**:
- ❌ No direct relationship between Blog and WorkPackage (linked via WorkCollateral)
- ❌ No relationship between content types (e.g., Blog → CleDeck)
- ❌ No tagging/categorization system
- ❌ No content versioning

## 3. Current Components

### PageHeader Component
**Location**: `src/components/PageHeader.jsx`

**Used by**: `/content` page
- Provides consistent header styling
- Supports back navigation
- Used across the app

### No Content-Specific Components

**Missing components**:
- ❌ No `BlogList` component
- ❌ No `SocialPostList` component
- ❌ No `ContentCard` component
- ❌ No `DraftManager` component
- ❌ No `ContentAnalytics` component
- ❌ No `ContentIdea` component (exists in old React app, not in Next.js)

### Builder Components

All builder pages use inline components (not extracted):
- Blog builder: Inline form in `page.jsx`
- CLE Deck builder: Inline form in `page.jsx`
- Event Plan builder: Inline form in `page.jsx`
- Landing Page builder: Inline form in `page.jsx`
- Template builder: Inline form in `page.jsx`

**Note**: These are NOT reusable components - each builder is self-contained.

## 4. Missing Functionality

### Content Hub Features (Referenced but Not Implemented)

1. **Blog Post Management**
   - ❌ No listing page for all blogs
   - ❌ No filtering by status (draft/published/scheduled)
   - ❌ No search functionality
   - ❌ No bulk actions
   - ❌ No analytics/metrics display

2. **Social Post Management**
   - ❌ No model exists
   - ❌ No API routes
   - ❌ No builder/editor
   - ❌ No platform selection (LinkedIn, Twitter, etc.)
   - ❌ No scheduling functionality
   - ❌ Mentioned in page subtitle but not implemented

3. **Content Ideas/Generation**
   - ❌ No content idea input form
   - ❌ No AI generation of blog post angles
   - ❌ No blog potentials selection UI
   - ❌ Referenced in old React app (`ContentIdea.jsx`, `BlogPotentials.jsx`)

4. **Draft Management**
   - ❌ No unified draft listing
   - ❌ No draft status tracking across content types
   - ❌ Drafts exist only as `published: false` on individual models

5. **Content Analytics**
   - ❌ No views tracking
   - ❌ No engagement metrics
   - ❌ No performance dashboard
   - ❌ Referenced in old React app (analytics tab with placeholder)

6. **Content Workflow**
   - ❌ No content calendar
   - ❌ No scheduling system
   - ❌ No approval workflow
   - ❌ No content templates/library

### API Routes Missing

**Content Hub Routes**:
- ❌ `GET /api/content/blogs` - List all blogs (exists as `/api/artifacts/blogs` but not scoped to content hub)
- ❌ `GET /api/content/social-posts` - No model exists
- ❌ `GET /api/content/drafts` - No unified draft endpoint
- ❌ `GET /api/content/analytics` - No analytics endpoint
- ❌ `POST /api/content/generate-ideas` - No idea generation endpoint

**Note**: Artifact API routes exist (`/api/artifacts/blogs`, etc.) but are not integrated with content hub.

### Stubs and Placeholders

1. **`/content` Page**:
   - Placeholder message: "Content workflows are on deck"
   - Reference to "detailed planner from the React app" that needs migration

2. **`/events` Page**:
   - Similar placeholder: "Event planner coming soon"
   - References "planner" functionality

3. **Navigation**:
   - `/content` link exists in Sidebar under "Attract" section
   - Link works but leads to placeholder

### Commented-Out Code

**No commented-out code found** in content-related files. The `/content` page is a clean placeholder, not a partially implemented feature.

### TODOs and FIXMEs

**No explicit TODOs found** in content-related files. The placeholder message is the only indication of future work.

## 5. Legacy UX (What the old React app had)

### Old React App Location
**Repository**: `Ignite-frontend-production` (Vite React app, not Next.js)
**Files**: `src/pages/attract/Content.jsx`, `ContentIdea.jsx`, `BlogPotentials.jsx`, `BlogEditor.jsx`

### Content Hub Features (Old React App)

1. **Content Hub Main Page** (`Content.jsx`):
   - ✅ **Stats Cards**: Blog Posts (12), Social Posts (28), Total Views (5.2K), Drafts (5)
   - ✅ **Tabs**: Blog Posts, Social Media, Analytics
   - ✅ **Blog Posts Tab**:
     - List of blog posts with status badges (Published/Draft/Scheduled)
     - View counts, engagement metrics
     - Tags display
     - Edit/View buttons
     - "Create Content" button opens modal
   - ✅ **Social Media Tab**:
     - List of social posts by platform (LinkedIn, Twitter)
     - Status badges (Published/Draft/Scheduled)
     - Engagement metrics (likes, comments, shares)
     - Edit/Schedule buttons
   - ✅ **Analytics Tab**:
     - Placeholder with icon and description
   - ✅ **Create Content Modal**:
     - Opens `ContentIdea` component
     - Allows submitting content idea

2. **Content Idea Flow** (`ContentIdea.jsx`):
   - ✅ Form to input content idea (textarea)
   - ✅ Simulates API call to generate blog potentials
   - ✅ Generates 5 blog post angles from idea
   - ✅ Navigates to `BlogPotentials` page with idea and potentials

3. **Blog Potentials Selection** (`BlogPotentials.jsx`):
   - ✅ Displays 5 generated blog post options
   - ✅ Each option shows: title, angle, estimated words, target audience
   - ✅ Radio button selection
   - ✅ "Generate Blog Post" button
   - ✅ Simulates AI generation of 500-word blog
   - ✅ Navigates to `BlogEditor` with generated content

4. **Blog Editor** (`BlogEditor.jsx`):
   - ✅ Displays blog title, word count, status
   - ✅ Full blog content display (markdown-style)
   - ✅ "Save Draft" and "Publish to Web" buttons
   - ✅ Simulates publishing via backend
   - ✅ Success message and redirect

### Key Differences: Old React vs Next.js

| Feature | Old React App | Next.js App |
|---------|---------------|-------------|
| Content Hub Page | ✅ Full UI with tabs, stats, lists | ❌ Placeholder only |
| Blog Listing | ✅ List with status, metrics, tags | ❌ Not implemented |
| Social Posts | ✅ Full UI with platform badges | ❌ No model exists |
| Content Ideas | ✅ Full flow (idea → potentials → editor) | ❌ Not implemented |
| Blog Editor | ✅ Standalone editor page | ✅ Builder exists but not linked from hub |
| Analytics | ✅ Tab placeholder | ❌ Not implemented |
| Draft Management | ✅ Shown in blog list | ❌ No unified system |
| API Integration | ❌ Dummy data (hardcoded) | ✅ Real API routes exist |

### What Needs Migration

1. **Content Hub Dashboard**:
   - Stats cards (blog count, social count, views, drafts)
   - Tab navigation (Blog Posts, Social Media, Analytics)
   - Content listing with status badges
   - Create content button/modal

2. **Content Idea Flow**:
   - Idea input form
   - Blog potentials generation (AI integration needed)
   - Potentials selection UI
   - Navigation to blog editor

3. **Social Post Management**:
   - SocialPost model creation
   - Social post listing UI
   - Platform selection
   - Scheduling functionality

4. **Analytics Dashboard**:
   - Views tracking
   - Engagement metrics
   - Performance charts

5. **Draft Management**:
   - Unified draft listing across all content types
   - Draft status indicators
   - Quick edit from draft list

## 6. Recommended Migration Roadmap (High-Level)

### Phase 1: Content Hub Foundation
**Goal**: Replace placeholder with functional hub

1. **Create Content Hub Dashboard** (`/content`):
   - Stats cards (fetch from Blog model)
   - Tab navigation (Blog Posts, Social Media, Analytics)
   - Blog posts listing (fetch from `/api/artifacts/blogs`)
   - Status filtering (draft/published)
   - "Create Content" button

2. **Blog Posts Tab**:
   - List blogs with status badges
   - Link to blog builder (`/builder/blog/[id]`)
   - Create new blog button
   - Basic filtering (all/draft/published)

3. **Connect Existing Builders**:
   - Link blog builder to content hub
   - Add "Back to Content Hub" navigation
   - Show blog count in stats

### Phase 2: Content Creation Workflow
**Goal**: Enable content idea → blog generation flow

1. **Content Idea Component**:
   - Create `ContentIdea` component (migrate from old React app)
   - Add route `/content/ideas/new`
   - Form to input content idea

2. **Blog Potentials Generation**:
   - Create API route `/api/content/generate-potentials`
   - Integrate with AI service (OpenAI/Anthropic)
   - Return 5 blog post angles

3. **Blog Potentials Selection**:
   - Create `/content/blog-potentials` page
   - Display generated options
   - Selection UI
   - "Generate Blog" button

4. **Blog Generation**:
   - Create API route `/api/content/generate-blog`
   - Generate 500-word blog from selected angle
   - Create Blog record
   - Navigate to blog editor

### Phase 3: Social Post Management
**Goal**: Add social media content management

1. **SocialPost Model**:
   - Add to Prisma schema
   - Fields: platform, content, scheduledAt, status, engagement metrics
   - Migration

2. **Social Post API Routes**:
   - CRUD routes (`/api/artifacts/social-posts`)
   - Scheduling endpoint
   - Platform-specific formatting

3. **Social Posts Tab**:
   - List social posts by platform
   - Status badges
   - Engagement metrics
   - Create/edit UI

### Phase 4: Draft Management
**Goal**: Unified draft system

1. **Draft Listing**:
   - Create `/content/drafts` route
   - Query all content types with `published: false`
   - Group by type (Blog, CleDeck, etc.)
   - Quick edit links

2. **Draft Status Indicators**:
   - Add draft badges to content lists
   - Draft count in stats
   - Filter by draft status

### Phase 5: Analytics & Enhancement
**Goal**: Content performance tracking

1. **Analytics Model**:
   - Add views tracking to Blog model (or separate Analytics model)
   - Engagement metrics (if integrating with social platforms)

2. **Analytics Dashboard**:
   - Create `/content/analytics` tab
   - Views charts
   - Engagement metrics
   - Performance by content type

3. **Content Calendar** (Future):
   - Scheduling system
   - Content calendar view
   - Publishing workflow

### Integration Points

**Existing Systems to Leverage**:
- ✅ Blog model and API routes (already exist)
- ✅ Builder pages (already exist, need linking)
- ✅ Work package system (content can be linked to work packages)
- ✅ WorkCollateral system (for work package content tracking)

**New Systems Needed**:
- ❌ SocialPost model and API
- ❌ Content idea generation service
- ❌ Blog potentials generation service
- ❌ Analytics tracking system
- ❌ Draft management queries

### Notes

- **Builder pages exist** but are not discoverable from content hub
- **API routes exist** for artifacts but are not integrated with content hub UI
- **Old React app had full UI** but used dummy data; Next.js has real models but no UI
- **Work package system** already links to content via WorkCollateral, but content hub should be standalone
- **No social post model exists** - this is a new feature, not a migration

---

## Summary

**Current State**: The Content Hub (`/content`) is a placeholder with no functionality. However, the underlying content models (Blog, CleDeck, EventPlan, LandingPage, Template) are fully implemented with API routes and builder pages. The builder pages are accessible via work packages but not from the content hub.

**What Exists**: 
- ✅ 5 content artifact models (Blog, CleDeck, EventPlan, LandingPage, Template)
- ✅ Full CRUD API routes for all artifacts
- ✅ Builder pages for all artifact types
- ✅ Work package integration via WorkCollateral

**What's Missing**:
- ❌ Content hub dashboard UI
- ❌ Blog listing and management
- ❌ Social post model and management
- ❌ Content idea generation flow
- ❌ Draft management system
- ❌ Analytics dashboard
- ❌ Integration between content hub and existing builders

**Legacy Reference**: The old React app (`Ignite-frontend-production`) had a full content hub UI with tabs, stats, content listing, and content idea flow, but it used dummy data. The Next.js app needs to rebuild this UI using the real models and API routes that already exist.

