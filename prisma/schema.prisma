generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model assessments {
  id                   String       @id
  ownerId              String
  companyHQId          String?
  name                 String
  company              String
  industry             String?
  workTooMuch          String?
  assignTasks          String?
  wantMoreClients      String?
  revenueGrowthPercent Float?
  totalVolume          Float?
  bdSpend              Float?
  score                Int?
  scoreInterpretation  String?
  relateWithUser       String?
  growthNeeds          String?
  rawGptResponse       String?
  createdAt            DateTime     @default(now())
  updatedAt            DateTime
  company_hqs          company_hqs? @relation(fields: [companyHQId], references: [id])
  owners               owners       @relation(fields: [ownerId], references: [id], onDelete: Cascade)

  @@index([companyHQId])
  @@index([ownerId])
}

model bd_event_opps {
  id               String         @id
  companyHQId      String
  ownerId          String
  eventMetaId      String
  personaId        String?
  personaAlignment Int?
  travelBurden     Int?
  costFit          Int?
  ecosystemFit     Int?
  bdOpportunity    Int?
  notes            String?
  status           EventOppStatus @default(CONSIDERING)
  createdAt        DateTime       @default(now())
  updatedAt        DateTime

  @@index([companyHQId])
  @@index([eventMetaId])
  @@index([ownerId])
  @@index([personaId])
  @@index([status])
}

model bd_intels {
  id                    String   @id
  personaId             String   @unique
  fitScore              Int
  painAlignmentScore    Int
  workflowFitScore      Int
  urgencyScore          Int
  adoptionBarrierScore  Int
  risks                 Json?
  opportunities         Json?
  recommendedTalkTrack  String?
  recommendedSequence   String?
  recommendedLeadSource String?
  finalSummary          String?
  createdAt             DateTime @default(now())
  updatedAt             DateTime
  personas              personas @relation(fields: [personaId], references: [id], onDelete: Cascade)
}

model bdos_scores {
  id               String   @id
  contactId        String
  productId        String
  personaId        String?
  totalScore       Int
  personaFit       Int
  productFit       Int
  companyReadiness Int
  buyingPower      Int
  seniority        Int
  urgency          Int
  rationale        String?
  rawResponse      Json?
  createdAt        DateTime @default(now())

  @@index([contactId])
  @@index([createdAt])
  @@index([personaId])
  @@index([productId])
}

model blogs {
  id          String      @id
  companyHQId String
  title       String
  createdAt   DateTime    @default(now())
  updatedAt   DateTime
  blogText    String?
  description String?
  presenter   String?
  sections    Json?
  subtitle    String?
  company_hqs company_hqs @relation(fields: [companyHQId], references: [id], onDelete: Cascade)

  @@index([companyHQId])
}

model client_uploads {
  id           String   @id
  ownerId      String
  fileUrl      String
  originalName String
  fileType     String?
  size         Int?
  status       String   @default("stored")
  createdAt    DateTime @default(now())

  @@index([ownerId])
}

model companies {
  id                    String          @id
  companyHQId           String
  companyName           String
  address               String?
  industry              String?
  website               String?
  revenue               Float?
  yearsInBusiness       Int?
  proposalId            String?
  contractId            String?
  invoiceId             String?
  createdAt             DateTime        @default(now())
  updatedAt             DateTime
  category              String?
  companyHealthScore    Int?
  competitors           String[]        @default([])
  domain                String?         @unique
  fundingStage          String?
  growthRate            Float?
  growthScore           Int?
  headcount             Int?
  headcountTier         String?
  lastFundingAmount     Float?
  lastFundingDate       DateTime?
  marketPositionScore   Int?
  normalizedIndustry    String?
  numberOfFundingRounds Int?
  positioningLabel      String?
  readinessScore        Int?
  revenueRange          String?
  revenueTier           String?
  stabilityScore        Int?
  company_hqs           company_hqs     @relation(fields: [companyHQId], references: [id], onDelete: Cascade)
  contacts              contacts[]
  proposals             proposals[]
  work_packages         work_packages[]

  @@index([domain])
}

model company_hqs {
  id                                            String                    @id
  companyName                                   String
  companyStreet                                 String?
  companyCity                                   String?
  companyState                                  String?
  companyWebsite                                String?
  whatYouDo                                     String?
  companyIndustry                               String?
  teamSize                                      String?
  createdAt                                     DateTime                  @default(now())
  updatedAt                                     DateTime
  ownerId                                       String?
  contactOwnerId                                String?
  managerId                                     String?
  companyAnnualRev                              String?
  yearsInBusiness                               String?
  ultraTenantId                                 String?
  assessments                                   assessments[]
  blogs                                         blogs[]
  companies                                     companies[]
  contacts_company_hqs_contactOwnerIdTocontacts contacts?                 @relation("company_hqs_contactOwnerIdTocontacts", fields: [contactOwnerId], references: [id])
  owners_company_hqs_managerIdToowners          owners?                   @relation("company_hqs_managerIdToowners", fields: [managerId], references: [id])
  owners_company_hqs_ownerIdToowners            owners?                   @relation("company_hqs_ownerIdToowners", fields: [ownerId], references: [id])
  company_hqs                                   company_hqs?              @relation("company_hqsTocompany_hqs", fields: [ultraTenantId], references: [id])
  other_company_hqs                             company_hqs[]             @relation("company_hqsTocompany_hqs")
  company_memberships                           company_memberships[]
  consultant_deliverables                       consultant_deliverables[]
  contact_lists                                 contact_lists[]
  contacts_contacts_crmIdTocompany_hqs          contacts[]                @relation("contacts_crmIdTocompany_hqs")
  deliverable_templates                         deliverable_templates[]
  domain_registry                               domain_registry?
  landing_pages                                 landing_pages[]
  personas                                      personas[]
  phase_templates                               phase_templates[]
  presentations                                 Presentation[]
  products                                      products[]
  proposals                                     proposals[]
  templates                                     templates[]
}

model company_memberships {
  id          String      @id
  userId      String
  companyHqId String
  role        String
  isPrimary   Boolean     @default(false)
  createdAt   DateTime    @default(now())
  company_hqs company_hqs @relation(fields: [companyHqId], references: [id], onDelete: Cascade)

  @@unique([userId, companyHqId])
  @@index([companyHqId])
  @@index([userId, companyHqId])
  @@index([userId])
}

model consultant_deliverables {
  id               String      @id
  contactId        String
  title            String
  description      String?
  category         String?
  type             String?
  workContent      Json?
  status           String      @default("pending")
  proposalId       String?
  milestoneId      String?
  dueDate          DateTime?
  completedAt      DateTime?
  notes            String?
  companyHQId      String
  contactCompanyId String?
  createdAt        DateTime    @default(now())
  updatedAt        DateTime
  company_hqs      company_hqs @relation(fields: [companyHQId], references: [id], onDelete: Cascade)
  contacts         contacts    @relation(fields: [contactId], references: [id], onDelete: Cascade)
  proposals        proposals?  @relation(fields: [proposalId], references: [id])

  @@index([companyHQId])
  @@index([contactId])
  @@index([proposalId])
}

model contact_lists {
  id          String      @id
  companyId   String
  name        String
  description String?
  type        String?
  createdAt   DateTime    @default(now())
  updatedAt   DateTime
  company_hqs company_hqs @relation(fields: [companyId], references: [id], onDelete: Cascade)
  contacts    contacts[]
}

model contacts {
  id                                               String                    @id
  crmId                                            String
  firstName                                        String?
  lastName                                         String?
  fullName                                         String?
  goesBy                                           String?
  email                                            String?                   @unique
  phone                                            String?
  title                                            String?
  seniority                                        String?
  department                                       String?
  linkedinUrl                                      String?
  city                                             String?
  state                                            String?
  country                                          String?
  companyName                                      String?
  companyDomain                                    String?
  contactCompanyId                                 String?
  buyerPerson                                      BuyerPerson?
  buyingReadiness                                  BuyingReadiness?
  howMet                                           String?
  notes                                            String?
  contactListId                                    String?
  domain                                           String?
  enrichmentSource                                 String?
  enrichmentFetchedAt                              DateTime?
  enrichmentPayload                                Json?
  createdById                                      String?
  firebaseUid                                      String?                   @unique
  clientPortalUrl                                  String?                   @default("https://clientportal.ignitegrowth.biz")
  isActivated                                      Boolean                   @default(false)
  activatedAt                                      DateTime?
  ownerId                                          String?
  role                                             String                    @default("contact")
  createdAt                                        DateTime                  @default(now())
  updatedAt                                        DateTime
  averageTenureMonths                              Float?
  avgTenureYears                                   Float?
  budgetAuthority                                  Boolean?
  buyerLikelihoodScore                             Int?
  buyingPowerScore                                 Int?
  buyingTriggers                                   String[]                  @default([])
  careerMomentumScore                              Int?
  careerProgression                                String?
  careerStabilityScore                             Int?
  careerTimeline                                   Json?
  companyId                                        String?
  companyIndustry                                  String?
  companySize                                      String?
  currentRoleStartDate                             DateTime?
  currentTenureYears                               Float?
  decisionMaker                                    Boolean?
  enrichmentRedisKey                               String?
  gatekeeper                                       Boolean?
  goals                                            String[]                  @default([])
  influencer                                       Boolean?
  jobRole                                          String?
  numberOfJobChanges                               Int?
  painPoints                                       String[]                  @default([])
  profileSummary                                   String?
  readinessToBuyScore                              Int?
  recentJobChange                                  Boolean?
  recentPromotion                                  Boolean?
  rolePowerScore                                   Int?
  seniorityScore                                   Int?
  tenureYears                                      Int?
  timezone                                         String?
  totalExperienceYears                             Float?
  totalYearsExperience                             Float?
  urgencyScore                                     Int?
  company_hqs_company_hqs_contactOwnerIdTocontacts company_hqs[]             @relation("company_hqs_contactOwnerIdTocontacts")
  consultant_deliverables                          consultant_deliverables[]
  companies                                        companies?                @relation(fields: [contactCompanyId], references: [id])
  contact_lists                                    contact_lists?            @relation(fields: [contactListId], references: [id])
  company_hqs_contacts_crmIdTocompany_hqs          company_hqs               @relation("contacts_crmIdTocompany_hqs", fields: [crmId], references: [id])
  invite_tokens                                    invite_tokens[]
  pipelines                                        pipelines?
  proposals                                        proposals[]
  work_packages                                    work_packages[]

  @@index([companyDomain])
  @@index([companyId])
  @@index([domain])
  @@index([email])
  @@index([firebaseUid])
  @@index([ownerId])
  @@index([role])
}

model deliverable_templates {
  id                          String                        @id
  companyHQId                 String
  deliverableType             String
  deliverableLabel            String
  defaultUnitOfMeasure        String
  defaultDuration             Int
  createdAt                   DateTime                      @default(now())
  company_hqs                 company_hqs                   @relation(fields: [companyHQId], references: [id], onDelete: Cascade)
  phase_deliverable_templates phase_deliverable_templates[]

  @@unique([companyHQId, deliverableType])
  @@index([companyHQId])
}

model domain_registry {
  id              String      @id
  domain          String      @unique
  normalizedName  String?
  companyHqId     String      @unique
  firstSeen       DateTime    @default(now())
  lastSeen        DateTime
  confidenceScore Float?      @default(1.0)
  company_hqs     company_hqs @relation(fields: [companyHqId], references: [id], onDelete: Cascade)

  @@index([companyHqId])
  @@index([domain])
}

model ecosystem_orgs {
  id                          String                @id
  name                        String
  website                     String?
  city                        String?
  state                       String?
  archetype                   OrganizationArchetype
  whatTheyDo                  String?
  annualRevenue               Int?
  duesInfo                    String?
  memberCount                 Int?
  memberDescription           String?
  memberSeniority             String?
  memberIndustries            String[]
  memberReasonForAffiliation  String?
  memberAffiliationStrength   String?
  orgRelevanceToCompanyHQ     String?
  bdCompanyHQAffiliationScore Int?
  targetPersonaAlignment      Int?
  createdAt                   DateTime              @default(now())

  @@index([archetype])
  @@index([name])
}

model email_activities {
  id         String   @id
  owner_id   String
  contact_id String?
  tenant_id  String?
  email      String
  subject    String
  body       String
  event      String?
  messageId  String   @unique
  createdAt  DateTime @default(now())
  updatedAt  DateTime
  owners     owners   @relation(fields: [owner_id], references: [id], onDelete: Cascade)

  @@index([contact_id])
  @@index([messageId])
  @@index([owner_id])
}

model event_metas {
  id          String          @id
  name        String
  seriesName  String?
  eventType   EventType
  organizerId String?
  city        String?
  state       String?
  country     String?
  startDate   DateTime?
  endDate     DateTime?
  dateRange   String?
  costMin     Int?
  costMax     Int?
  currency    String?
  sourceType  EventSourceType @default(AI)
  rawJson     Json?
  createdAt   DateTime        @default(now())

  @@index([eventType])
  @@index([name])
  @@index([organizerId])
}

model event_plan_opps {
  id           String   @id
  eventPlanId  String
  bdEventOppId String
  order        Int?
  createdAt    DateTime @default(now())

  @@unique([eventPlanId, bdEventOppId])
  @@index([bdEventOppId])
  @@index([eventPlanId])
}

model event_plans {
  id           String   @id
  companyHQId  String
  description  String?
  createdAt    DateTime @default(now())
  updatedAt    DateTime
  name         String
  ownerId      String
  presenter    String?
  spacingScore Int?
  totalCost    Int?
  totalTrips   Int?
  year         Int?

  @@index([companyHQId])
  @@index([ownerId])
}

model invite_tokens {
  id        String   @id
  contactId String
  email     String
  token     String   @unique
  expiresAt DateTime
  used      Boolean  @default(false)
  createdAt DateTime @default(now())
  contacts  contacts @relation(fields: [contactId], references: [id], onDelete: Cascade)

  @@index([contactId])
  @@index([email])
  @@index([token])
}

model invoice_milestones {
  id             String     @id
  invoiceId      String
  label          String
  expectedAmount Int
  expectedDate   DateTime?
  description    String?
  status         String     @default("pending")
  createdAt      DateTime   @default(now())
  updatedAt      DateTime
  invoices       invoices   @relation(fields: [invoiceId], references: [id], onDelete: Cascade)
  payments       payments[]

  @@index([invoiceId])
  @@index([status])
}

model invoice_template_milestones {
  id                String            @id
  templateId        String
  label             String
  expectedAmount    Float
  expectedDate      DateTime?
  description       String?
  createdAt         DateTime          @default(now())
  updatedAt         DateTime
  invoice_templates invoice_templates @relation(fields: [templateId], references: [id], onDelete: Cascade)

  @@index([templateId])
}

model invoice_templates {
  id                          String                        @id
  name                        String
  notes                       String?
  createdAt                   DateTime                      @default(now())
  updatedAt                   DateTime
  invoice_template_milestones invoice_template_milestones[]
}

model invoices {
  id                      String               @id
  workPackageId           String
  invoiceName             String
  invoiceDescription      String?
  totalExpected           Int                  @default(0)
  totalReceived           Int                  @default(0)
  status                  String               @default("pending")
  createdAt               DateTime             @default(now())
  updatedAt               DateTime
  invoiceNumber           String?
  amount                  Float?
  currency                String               @default("USD")
  paidAt                  DateTime?
  paidByContactId         String?
  stripeCheckoutSessionId String?
  stripePaymentIntentId   String?
  stripeCustomerId        String?
  invoice_milestones      invoice_milestones[]
  work_packages           work_packages        @relation(fields: [workPackageId], references: [id], onDelete: Cascade)
  payments                payments[]

  @@index([status])
  @@index([stripeCustomerId])
  @@index([workPackageId])
}

model landing_pages {
  id          String      @id
  companyHQId String
  title       String
  url         String?
  content     Json?
  description String?
  published   Boolean     @default(false)
  publishedAt DateTime?
  createdAt   DateTime    @default(now())
  updatedAt   DateTime
  presenter   String?
  company_hqs company_hqs @relation(fields: [companyHQId], references: [id], onDelete: Cascade)

  @@index([companyHQId])
  @@index([published])
}

model owners {
  id                                        String             @id
  firebaseId                                String             @unique
  firstName                                 String?
  lastName                                  String?
  name                                      String? // Deprecated: Use firstName and lastName instead
  email                                     String?
  photoURL                                  String?
  teamSize                                  String?
  microsoftAccessToken                      String?
  microsoftRefreshToken                     String?
  microsoftExpiresAt                        DateTime?
  microsoftEmail                            String?
  microsoftDisplayName                      String?
  microsoftTenantId                         String?
  createdAt                                 DateTime           @default(now())
  updatedAt                                 DateTime
  assessments                               assessments[]
  company_hqs_company_hqs_managerIdToowners company_hqs[]      @relation("company_hqs_managerIdToowners")
  company_hqs_company_hqs_ownerIdToowners   company_hqs[]      @relation("company_hqs_ownerIdToowners")
  email_activities                          email_activities[]
  super_admins                              super_admins?
}

model payments {
  id                    String              @id
  invoiceId             String
  milestoneId           String?
  amountReceived        Int
  currency              String              @default("USD")
  paidAt                DateTime
  stripeSessionId       String?             @unique
  stripePaymentIntentId String?             @unique
  paidByContactId       String?
  createdAt             DateTime            @default(now())
  invoices              invoices            @relation(fields: [invoiceId], references: [id], onDelete: Cascade)
  invoice_milestones    invoice_milestones? @relation(fields: [milestoneId], references: [id])

  @@index([invoiceId])
  @@index([milestoneId])
  @@index([stripePaymentIntentId])
  @@index([stripeSessionId])
}

model personas {
  id              String        @id
  companyHQId     String
  personName      String        @default("")
  title           String
  headline        String?
  seniority       String?
  industry        String?
  subIndustries   String[]
  company         String?
  companySize     String?
  annualRevenue   String?
  location        String?
  description     String?
  whatTheyWant    String?
  painPoints      String[]
  risks           String[]
  decisionDrivers String[]
  buyerTriggers   String[]
  createdAt       DateTime      @default(now())
  updatedAt       DateTime
  productId       String?
  bd_intels       bd_intels?
  company_hqs     company_hqs   @relation(fields: [companyHQId], references: [id], onDelete: Cascade)
  products        products?     @relation(fields: [productId], references: [id])
  product_fits    product_fits?
}

model phase_deliverable_templates {
  id                    String                @id
  phaseTemplateId       String
  deliverableTemplateId String
  defaultQuantity       Int?                  @default(1)
  order                 Int?                  @default(0)
  createdAt             DateTime              @default(now())
  deliverable_templates deliverable_templates @relation(fields: [deliverableTemplateId], references: [id], onDelete: Cascade)
  phase_templates       phase_templates       @relation(fields: [phaseTemplateId], references: [id], onDelete: Cascade)

  @@unique([phaseTemplateId, deliverableTemplateId])
}

model phase_templates {
  id                          String                        @id
  companyHQId                 String
  name                        String
  description                 String?
  createdAt                   DateTime                      @default(now())
  phase_deliverable_templates phase_deliverable_templates[]
  company_hqs                 company_hqs                   @relation(fields: [companyHQId], references: [id], onDelete: Cascade)
  proposal_phases             proposal_phases[]

  @@unique([companyHQId, name])
  @@index([companyHQId])
}

model pipelines {
  id        String   @id
  contactId String   @unique
  pipeline  String
  stage     String
  createdAt DateTime @default(now())
  updatedAt DateTime
  contacts  contacts @relation(fields: [contactId], references: [id], onDelete: Cascade)
}

model Presentation {
  id                String      @id
  companyHQId       String
  title             String
  description       String?
  slides            Json?
  published         Boolean     @default(false)
  publishedAt       DateTime?
  createdAt         DateTime    @default(now())
  updatedAt         DateTime
  feedback          Json?
  gammaBlob         String?
  gammaDeckUrl      String?
  gammaError        String?
  gammaPptxUrl      String?
  gammaStatus       String?
  presenter         String?
  gammaGenerationId String?
  companyHQ         company_hqs @relation(fields: [companyHQId], references: [id], onDelete: Cascade)

  @@index([companyHQId])
  @@index([published])
  @@map("presentations")
}

model product_fits {
  id                 String   @id
  personaId          String   @unique
  productId          String
  valuePropToThem    String
  alignmentReasoning String
  createdAt          DateTime @default(now())
  updatedAt          DateTime
  personas           personas @relation(fields: [personaId], references: [id], onDelete: Cascade)
  products           products @relation(fields: [productId], references: [id], onDelete: Cascade)
}

model products {
  id                    String         @id
  companyHQId           String
  name                  String
  description           String?
  valueProp             String?
  price                 Float?
  priceCurrency         String?        @default("USD")
  pricingModel          String?
  category              String?
  deliveryTimeline      String?
  targetMarketSize      String?
  salesCycleLength      String?
  features              String?
  competitiveAdvantages String?
  targetedTo            String?
  createdAt             DateTime       @default(now())
  updatedAt             DateTime
  personas              personas[]
  product_fits          product_fits[]
  company_hqs           company_hqs    @relation(fields: [companyHQId], references: [id], onDelete: Cascade)
}

model proposal_deliverables {
  id          String    @id
  proposalId  String
  name        String
  description String?
  quantity    Int       @default(1)
  unitPrice   Float?
  totalPrice  Float?
  notes       String?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime
  proposals   proposals @relation(fields: [proposalId], references: [id], onDelete: Cascade)

  @@index([proposalId])
}

model proposal_phases {
  id              String           @id
  proposalId      String
  phaseTemplateId String?
  name            String
  description     String?
  durationWeeks   Int
  order           Int
  createdAt       DateTime         @default(now())
  updatedAt       DateTime
  phase_templates phase_templates? @relation(fields: [phaseTemplateId], references: [id])
  proposals       proposals        @relation(fields: [proposalId], references: [id], onDelete: Cascade)

  @@index([proposalId])
}

model proposals {
  id                      String                    @id
  title                   String
  companyHQId             String
  contactId               String
  companyId               String
  estimatedStart          DateTime
  status                  String                    @default("draft")
  totalPrice              Float?
  purpose                 String?
  phases                  Json?
  milestones              Json?
  compensation            Json?
  dateIssued              DateTime?
  preparedBy              String?
  createdAt               DateTime                  @default(now())
  updatedAt               DateTime
  consultant_deliverables consultant_deliverables[]
  proposal_deliverables   proposal_deliverables[]
  proposal_phases         proposal_phases[]
  company_hqs             company_hqs               @relation(fields: [companyHQId], references: [id], onDelete: Cascade)
  companies               companies                 @relation(fields: [companyId], references: [id], onDelete: Cascade)
  contacts                contacts                  @relation(fields: [contactId], references: [id], onDelete: Cascade)
}

model prospect_candidates {
  id          String   @id
  userId      String
  firstName   String?
  lastName    String?
  companyName String?
  domain      String?
  status      String   @default("pending")
  createdAt   DateTime @default(now())

  @@index([status])
  @@index([userId])
}

model saved_events {
  id               String   @id
  userId           String
  eventName        String
  eventSeriesName  String?
  organizerName    String
  producerType     String
  city             String
  stateOrRegion    String?
  startDate        String?
  endDate          String?
  costMin          Int?
  costMax          Int?
  currency         String
  personaAlignment Int
  url              String?
  rawJson          Json
  createdAt        DateTime @default(now())

  @@index([createdAt])
  @@index([userId])
}

model super_admins {
  id        String   @id
  ownerId   String   @unique
  createdAt DateTime @default(now())
  updatedAt DateTime
  owners    owners   @relation(fields: [ownerId], references: [id], onDelete: Cascade)
}

model templates {
  id          String      @id
  companyHQId String
  name        String
  subject     String?
  body        String?
  type        String?
  published   Boolean     @default(false)
  publishedAt DateTime?
  createdAt   DateTime    @default(now())
  updatedAt   DateTime
  description String?
  presenter   String?
  company_hqs company_hqs @relation(fields: [companyHQId], references: [id], onDelete: Cascade)

  @@index([companyHQId])
  @@index([published])
}

model work_collateral {
  id                String               @id
  workPackageId     String?
  workPackageItemId String?
  presentationId    String?
  type              String
  title             String?
  contentJson       Json?
  status            WorkCollateralStatus @default(IN_PROGRESS)
  reviewRequestedAt DateTime?
  reviewCompletedAt DateTime?
  createdAt         DateTime             @default(now())
  updatedAt         DateTime

  @@index([presentationId])
  @@index([status])
  @@index([type])
  @@index([workPackageId])
  @@index([workPackageItemId])
}

model work_package_items {
  id                     String                @id
  workPackageId          String
  workPackagePhaseId     String
  deliverableType        String
  deliverableLabel       String
  deliverableDescription String?
  itemType               String                @default("")
  itemLabel              String                @default("")
  itemDescription        String?
  quantity               Int
  unitOfMeasure          String
  estimatedHoursEach     Int
  duration               Int?
  createdAt              DateTime              @default(now())
  status                 WorkPackageItemStatus @default(NOT_STARTED)
  work_packages          work_packages         @relation(fields: [workPackageId], references: [id], onDelete: Cascade)
  work_package_phases    work_package_phases   @relation(fields: [workPackagePhaseId], references: [id], onDelete: Cascade)

  @@unique([workPackageId, workPackagePhaseId, deliverableLabel])
  @@index([deliverableType])
  @@index([itemType])
  @@index([workPackageId])
  @@index([workPackagePhaseId])
}

model work_package_phases {
  id                  String               @id
  workPackageId       String
  name                String
  position            Int
  description         String?
  phaseTotalDuration  Int?
  totalEstimatedHours Int?
  createdAt           DateTime             @default(now())
  actualEndDate       DateTime?
  actualStartDate     DateTime?
  estimatedEndDate    DateTime?
  estimatedStartDate  DateTime?
  status              String?
  updatedAt           DateTime             @default(now())
  work_package_items  work_package_items[]
  work_packages       work_packages        @relation(fields: [workPackageId], references: [id], onDelete: Cascade)

  @@unique([workPackageId, name, position])
  @@index([position])
  @@index([workPackageId])
}

model work_packages {
  id                  String                @id
  contactId           String
  companyId           String?
  title               String
  description         String?
  prioritySummary     String?
  totalCost           Float?
  effectiveStartDate  DateTime?
  createdAt           DateTime              @default(now())
  updatedAt           DateTime
  invoices            invoices[]
  work_package_items  work_package_items[]
  work_package_phases work_package_phases[]
  companies           companies?            @relation(fields: [companyId], references: [id])
  contacts            contacts              @relation(fields: [contactId], references: [id], onDelete: Cascade)

  @@index([companyId])
  @@index([contactId])
}

enum EventOppStatus {
  CONSIDERING
  SHORTLIST
  GOING
  PASSED
}

enum EventSourceType {
  AI
  CSV
  MANUAL
  WEB
}

enum EventType {
  ASSOCIATION
  COMMERCIAL
  MEDIA
  INDUSTRY
  PRIVATE
  CORPORATE
}

enum OrganizationArchetype {
  ASSOCIATION
  TRADE_GROUP
  GUILD
  NONPROFIT
  GOVERNMENT
  OTHER
}

enum WorkCollateralStatus {
  NOT_STARTED
  IN_PROGRESS
  IN_REVIEW
  CHANGES_NEEDED
  CHANGES_IN_PROGRESS
  APPROVED
}

enum WorkItemStatus {
  TODO
  IN_PROGRESS
  COMPLETED
}

enum WorkItemType {
  BLOG
  PERSONA
  OUTREACH_TEMPLATE
  EVENT_CLE_PLAN
  PRESENTATION_DECK
  LANDING_PAGE
}

enum WorkPackageItemStatus {
  NOT_STARTED
  IN_PROGRESS
  IN_REVIEW
  CHANGES_NEEDED
  CHANGES_IN_PROGRESS
  APPROVED
}

enum WorkPackageStatus {
  ACTIVE
  COMPLETED
}

enum BuyerPerson {
  BUSINESS_OWNER
  DIRECTOR_VP
  PRODUCT_USER
}

enum BuyingReadiness {
  READ_BUT_NO_MONEY
  MONEY_AND_READY
}
